% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract_doi.R
\name{extract_doi}
\alias{extract_doi}
\title{Extract DOIs or Components from Character Vectors}
\usage{
extract_doi(
  x,
  non_doi_value = "",
  normalize = TRUE,
  what = c("doi", "resolver", "prefix", "suffix")
)
}
\arguments{
\item{x}{A character vector potentially containing DOIs (e.g., raw DOIs, DOI URLs, or strings with embedded DOIs).}

\item{non_doi_value}{Value to use for elements where no DOI or component is found. If `NULL`, only matched elements are returned.}

\item{normalize}{Logical. If `TRUE` (default), convert extracted DOIs and suffixes to lowercase and trim surrounding whitespace. Has no effect for `what = "prefix"` or `what = "resolver"`.}

\item{what}{What to extract from each element. One of:
\describe{
  \item{"doi"}{The full DOI name (prefix + "/" + suffix). Example: `"10.5281/zenodo.1234567"` (default)}
  \item{"resolver"}{The resolver URL (e.g., `"https://doi.org/"`, `"http://dx.doi.org/"`) if present}
  \item{"prefix"}{The DOI prefix only (e.g., `"10.5281"`)}
  \item{"suffix"}{The DOI suffix only (e.g., `"zenodo.1234567"`)}
}}
}
\value{
A character vector:
  - If `non_doi_value` is not `NULL`, a vector of the same length as `x`, with unmatched entries replaced.
  - If `non_doi_value` is `NULL`, a vector of only matched entries.
}
\description{
Extracts DOIs or specific DOI components (resolver, prefix, or suffix) from a character vector.
Assumes that each element of `x` contains at most one DOI (with or without resolver).
}
\examples{
x <- c(
  "https://doi.org/10.5281/zenodo.1234567",
  " 10.1000/XYZ456  ",
  "no doi here",
  NA
)

extract_doi(x)  # Full DOIs (default)
extract_doi(x, what = "resolver")
extract_doi(x, what = "prefix")
extract_doi(x, what = "suffix")
extract_doi(x, non_doi_value = NA_character_)
extract_doi(x, non_doi_value = NULL)

}
